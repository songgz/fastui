# encoding: utf-8
Fastui::View.instance.config do |conf|
  conf.project = 'Fastui Rapid Development Framework'
  conf.version = "version #{Fastui::VERSION} built on ExtJS 4.2.0"
  conf.copyright = 'Copyright 2007-2013 ChunTeng Co., Ltd.'

  default = [
      {name: 'entity_kind', title: 'Entity Kind', datatype: 'VRadio'},
      {name: 'seq', title: 'Order by', datatype: 'VInteger'},
      {name: 'is_active', title: 'Actived', datatype: 'VBoolean'},
      {name: 'note', title: 'Memo', datatype: 'VText'},
      {name: 'help', title: 'Help', datatype: 'VHtml', display: 'form'},
      {name: 'createdbyorg_id', title: 'Created By Org', datatype: 'VTable', ref: {entity: 'Fastui::MOrg'}, display: 'grid'},
      {name: 'createdby_id', title: 'Creator', datatype: 'VLookup', ref: {entity: 'Fastui::MPerson'}, display: 'grid'},
      {name: 'updatedby_id', title: 'Visitor', datatype: 'VLookup', ref: {entity: 'Fastui::MPerson'}, display: 'grid'}
  ]

  conf.win :m_menu, title: 'Menu', window_kind: 'maintain' do |w|
    w.tab :m_menu, title: 'Menu', entity: 'Fastui::MMenu', form_kind: 'VCustomForm', readonly: true, members: [
        {name: 'id', title: 'ID', datatype: 'VInter', readonly: true},
        {name: 'title', title: 'Title', datatype: 'VString'},
        {name: 'print_text', title: 'Print Text', datatype: 'VString'},
        {name: 'name', title: 'Code', datatype: 'VString'}
    ] + default
    w.tab :m_menu_item, title: 'Menu Item', entity: 'Fastui::MMenuItem', included_tab: 'm_menu', grid_kind: 'VTreeGrid', members: [
        {name: 'id', title: 'ID', datatype: 'VInter', readonly: true},
        {name: 'title', title: 'Title', datatype: 'VTreeText'},
        {name: 'print_text', title: 'Print Text', datatype: 'VString'},
        {name: 'name', title: 'Code', datatype: 'VString'},
        {name: 'm_menu_id', title: 'Menu', datatype: 'VLookup', ref: {entity: 'Fastui::MMenu'}, default_logic: "{id:${m_menu_id},title:'${m_menu_title}'}"},
        {name: 'window', title: 'Window', datatype: 'VString'},
        {name: 'parent_id', title: 'Parent', datatype: 'VTree', ref: {entity: 'Fastui::MMenuItem'}}
    ] + default
  end

  conf.win :m_org, title: 'Org', window_kind: 'maintain' do |w|
    w.tab :m_org, title: 'Org', entity: 'Fastui::MOrg', grid_kind: 'VTreeGrid', members: [
        {name: 'id', title: 'ID', datatype: 'VInteger', readonly: true, },
        {name: 'title', title: 'Name', datatype: 'VTreeText'},
        {name: 'print_text', title: 'Print Text', datatype: 'VString'},
        {name: 'name', title: 'Code', datatype: 'VString'},
        {name: 'parent_id', title: 'Parent', datatype: 'VTree', ref: {entity: 'Fastui::MOrg'}, default_logic: "{id:${m_org_id},title:'${m_org_title}'}"}
    ] + default
  end

  conf.win :m_person, title: 'Person', window_kind: 'maintain' do |w|
    w.tab :m_person, title: 'Person', entity: 'Fastui::MPerson', members: [
        {name: 'id', title: 'ID', datatype: 'VInteger', readonly: true},
        {name: 'title', title: 'Name', datatype: 'VString'},
        {name: 'print_text', title: 'Print Text', datatype: 'VString', vtype: 'url'},
        {name: 'name', title: 'Code', datatype: 'VString'},
        {name: 'access_level', title: 'Access Level', datatype: 'VList'}
    ] + default
    w.tab :m_role, title: 'Role', entity: 'Fastui::MRole', included_tab: 'm_person', members: [
        {name: 'id', title: 'ID', datatype: 'VInteger', readonly: true},
        {name: 'title', title: 'Name', datatype: 'VString'},
        {name: 'print_text', title: 'Print Text', datatype: 'VString'},
        {name: 'name', title: 'Code', datatype: 'VString'}
    ] + default
  end

  conf.win :m_list, title: 'Enumerate', window_kind: 'maintain' do |w|
    w.tab :m_list, title: 'Enumerate', entity: 'Fastui::MList', members: [
        {name: 'id', title: 'ID', datatype: 'VInteger', readonly: true},
        {name: 'title', title: 'Name', datatype: 'VString'},
        {name: 'print_text', title: 'Print Text', datatype: 'VString'},
        {name: 'name', title: 'Code', datatype: 'VString'}
    ] + default
    w.tab :m_list_item, title: 'Enumerate Item', entity: 'Fastui::MListItem', included_tab: 'm_list', members: [
        {name: 'id', title: 'ID', datatype: 'VInteger', readonly: true},
        {name: 'title', title: 'Name', datatype: 'VString'},
        {name: 'print_text', title: 'Print Text', datatype: 'VString'},
        {name: 'name', title: 'Code', datatype: 'VString'},
        {name: 'm_list_id', title: 'Enumerate', datatype: 'VLookup', ref: {entity: 'Fastui::MList'}}
    ] + default
  end

end